{"ast":null,"code":"var _jsxFileName = \"/Users/toneychai/Desktop/question/src/App.js\";\nimport React, { Component } from 'react';\nimport quizQuestions from './api/quizQuestions';\nimport Quiz from './components/Quiz';\nimport Result from './components/Result'; // import logo from './svg/logo.svg';\n\nimport './App.css';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      counter: 0,\n      questionId: 1,\n      question: '',\n      answerOptions: [],\n      answer: '',\n      answersCount: {},\n      result: ''\n    };\n\n    this.handleAnswerSelected = event => {\n      console.log(\"event\", event.currentTarget);\n      this.setUserAnswer(event.currentTarget.value);\n\n      if (this.state.questionId < quizQuestions.length) {\n        setTimeout(() => this.setNextQuestion(), 300);\n      } else {\n        setTimeout(() => this.setResults(this.getResults()), 300);\n      }\n    };\n\n    this.setUserAnswer = answer => {\n      this.setState((state, props) => ({\n        answersCount: { ...state.answersCount,\n          [answer]: (state.answersCount[answer] || 0) + 1\n        },\n        answer: answer\n      }));\n    };\n  }\n\n  componentDidMount() {\n    //创造一个字典\n    const Options = quizQuestions.map(question => question.answers);\n    this.setState({\n      //初始状态\n      question: quizQuestions[0].question,\n      // answerOptions: shuffledAnswerOptions[0]\n      answerOptions: Options[0]\n    });\n    console.log(\"choose\", this.state.answerOptions);\n  }\n  /*** What is this ***/\n\n\n  setNextQuestion() {\n    const counter = this.state.counter + 1;\n    const questionId = this.state.questionId + 1;\n    this.setState({\n      //设置问题和选项\n      counter: counter,\n      questionId: questionId,\n      question: quizQuestions[counter].question,\n      answerOptions: quizQuestions[counter].answers,\n      answer: ''\n    });\n  }\n\n  getResults() {\n    const answersCount = this.state.answersCount;\n    const answersCountKeys = Object.keys(answersCount);\n    const answersCountValues = answersCountKeys.map(key => answersCount[key]);\n    const maxAnswerCount = Math.max.apply(null, answersCountValues);\n    console.log(\"test answer: \", this.state.answer);\n    return answersCountKeys.filter(key => answersCount[key] === maxAnswerCount);\n  }\n\n  setResults(result) {\n    if (result.length === 1) {\n      this.setState({\n        result: result[0]\n      });\n    } else {\n      this.setState({\n        result: 'Undetermined'\n      });\n    }\n  }\n\n  renderQuiz() {\n    // if(this.state.result)\n    //   console.log(\"oo\");\n    // else{\n    //   console.log('ya');\n    // // }\n    // console.log(\"this State\",this.state);\n    return /*#__PURE__*/React.createElement(Quiz, {\n      answer: this.state.answer,\n      answerOptions: this.state.answerOptions,\n      questionId: this.state.questionId,\n      question: this.state.question,\n      questionTotal: quizQuestions.length,\n      onAnswerSelected: this.handleAnswerSelected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderResult() {\n    return /*#__PURE__*/React.createElement(Result, {\n      quizResult: this.state.result,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 16\n      }\n    });\n  } //Guess 如果state.result 不是null那么 返回 Result\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, \"React Quiz\")), this.state.result ? this.renderResult() : this.renderQuiz());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/toneychai/Desktop/question/src/App.js"],"names":["React","Component","quizQuestions","Quiz","Result","App","state","counter","questionId","question","answerOptions","answer","answersCount","result","handleAnswerSelected","event","console","log","currentTarget","setUserAnswer","value","length","setTimeout","setNextQuestion","setResults","getResults","setState","props","componentDidMount","Options","map","answers","answersCountKeys","Object","keys","answersCountValues","key","maxAnswerCount","Math","max","apply","filter","renderQuiz","renderResult","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport quizQuestions from './api/quizQuestions';\nimport Quiz from './components/Quiz';\nimport Result from './components/Result';\n// import logo from './svg/logo.svg';\nimport './App.css';\n\nclass App extends Component {\n    state = {\n        counter: 0,\n        questionId: 1,\n        question: '',\n        answerOptions: [],\n        answer: '',\n        answersCount: {},\n        result: ''\n    };\n\n    componentDidMount() {\n        //创造一个字典\n        const Options = quizQuestions.map(question =>\n            question.answers\n        );\n        this.setState({\n            //初始状态\n            question: quizQuestions[0].question,\n            // answerOptions: shuffledAnswerOptions[0]\n            answerOptions: Options[0]\n        });\n        console.log(\"choose\",this.state.answerOptions);\n    }\n\n    /*** What is this ***/\n    handleAnswerSelected=(event)=> {\n        console.log(\"event\",event.currentTarget);\n        this.setUserAnswer(event.currentTarget.value);\n\n        if (this.state.questionId < quizQuestions.length) {\n            setTimeout(() => this.setNextQuestion(), 300);\n        } else {\n            setTimeout(() => this.setResults(this.getResults()), 300);\n        }\n    }\n\n    setUserAnswer =(answer)=> {\n        this.setState((state, props) => ({\n            answersCount: {\n                ...state.answersCount,\n                [answer]: (state.answersCount[answer] || 0) + 1\n            },\n            answer: answer\n        }));\n    }\n\n    setNextQuestion() {\n        const counter = this.state.counter + 1;\n        const questionId = this.state.questionId + 1;\n\n        this.setState({\n            //设置问题和选项\n            counter: counter,\n            questionId: questionId,\n            question: quizQuestions[counter].question,\n            answerOptions: quizQuestions[counter].answers,\n            answer: ''\n        });\n    }\n\n    getResults() {\n        const answersCount = this.state.answersCount;\n        const answersCountKeys = Object.keys(answersCount);\n        const answersCountValues = answersCountKeys.map(key => answersCount[key]);\n        const maxAnswerCount = Math.max.apply(null, answersCountValues);\n        console.log(\"test answer: \",this.state.answer);\n        return answersCountKeys.filter(key => answersCount[key] === maxAnswerCount);\n    }\n\n    setResults(result) {\n        if (result.length === 1) {\n            this.setState({ result: result[0] });\n        } else {\n            this.setState({ result: 'Undetermined' });\n        }\n    }\n\n    renderQuiz() {\n        // if(this.state.result)\n        //   console.log(\"oo\");\n        // else{\n        //   console.log('ya');\n        // // }\n        // console.log(\"this State\",this.state);\n        return (\n            <Quiz\n                answer={this.state.answer}\n                answerOptions={this.state.answerOptions}\n                questionId={this.state.questionId}\n                question={this.state.question}\n                questionTotal={quizQuestions.length}\n                onAnswerSelected={this.handleAnswerSelected}\n            />\n        );\n    }\n\n    renderResult() {\n        return <Result quizResult={this.state.result} />;\n    }\n//Guess 如果state.result 不是null那么 返回 Result\n    render() {\n        return (\n            <div className=\"App\">\n                <div className=\"App-header\">\n                    {/*<img src={logo} className=\"App-logo\" alt=\"logo\" />*/}\n                    <h2>React Quiz</h2>\n                </div>\n                {this.state.result ? this.renderResult() : this.renderQuiz()}\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}