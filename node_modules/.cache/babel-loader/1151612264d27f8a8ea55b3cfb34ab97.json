{"ast":null,"code":"import _toConsumableArray from\"/Users/toneychai/Desktop/0614/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/toneychai/Desktop/0614/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/toneychai/Desktop/0614/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/toneychai/Desktop/0614/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/toneychai/Desktop/0614/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/toneychai/Desktop/0614/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import quizQuestions from'./api/quizQuestions';import Quiz from'./components/Quiz';import Result from'./components/Result';// import logo from './svg/logo.svg';\nimport'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={counter:0,questionId:1,question:'',answerOptions:[],final:[],choose:false};_this.handleAnswerSelected=function(event){console.log(\"event\",event.currentTarget);_this.setUserAnswer(event.currentTarget.value);_this.setState({choose:true});};_this.nextStep=function(){_this.setNextQuestion=_this.setNextQuestion.bind(_assertThisInitialized(_this));if(_this.state.questionId<quizQuestions.length){setTimeout(function(){return _this.setNextQuestion();},300);}else{// already get to the last question\nvar questionId=_this.state.questionId+1;_this.setState({questionId:questionId});}};_this.setUserAnswer=function(param){var len=_this.state.final.length;if(len===_this.state.counter){_this.setState({final:[].concat(_toConsumableArray(_this.state.final),[param])});}else{var array=_toConsumableArray(_this.state.final);array.splice(_this.state.counter,1);console.log(\"test\",array);_this.setState({final:[].concat(_toConsumableArray(array),[param])});}};_this.setNextQuestion=function(){var counter=_this.state.counter+1;var questionId=_this.state.questionId+1;_this.setState({//设置问题和选项\ncounter:counter,questionId:questionId,question:quizQuestions[counter].question,answerOptions:quizQuestions[counter].answers,choose:false});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var Options=quizQuestions.map(function(question){return question.answers;});this.setState({//initial\nquestion:quizQuestions[0].question,answerOptions:Options[0]});console.log(\"choose\",this.state.answerOptions);}/*** What is this ***/},{key:\"renderQuiz\",value:function renderQuiz(){return/*#__PURE__*/React.createElement(Quiz// answer={this.state.answer}\n,{answerOptions:this.state.answerOptions,questionId:this.state.questionId,question:this.state.question,questionTotal:quizQuestions.length,onAnswerSelected:this.handleAnswerSelected,nextStep:this.nextStep,choose:this.state.choose});}},{key:\"renderResult\",value:function renderResult(){return/*#__PURE__*/React.createElement(Result,null);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},this.state.questionId>quizQuestions.length?this.renderResult():this.renderQuiz()));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/toneychai/Desktop/0614/src/App.js"],"names":["React","Component","quizQuestions","Quiz","Result","App","state","counter","questionId","question","answerOptions","final","choose","handleAnswerSelected","event","console","log","currentTarget","setUserAnswer","value","setState","nextStep","setNextQuestion","bind","length","setTimeout","param","len","array","splice","answers","Options","map","renderResult","renderQuiz"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport quizQuestions from './api/quizQuestions';\nimport Quiz from './components/Quiz';\nimport Result from './components/Result';\n// import logo from './svg/logo.svg';\nimport './App.css';\n\nclass App extends Component {\n    state = {\n        counter: 0,\n        questionId: 1,\n        question: '',\n        answerOptions: [],\n        final :[],\n        choose: false\n    };\n\n    componentDidMount() {\n        const Options = quizQuestions.map(question =>\n            question.answers\n        );\n        this.setState({\n            //initial\n            question: quizQuestions[0].question,\n            answerOptions: Options[0]\n        });\n        console.log(\"choose\",this.state.answerOptions);\n    }\n\n    /*** What is this ***/\n    handleAnswerSelected=(event)=> {\n        console.log(\"event\",event.currentTarget);\n        this.setUserAnswer(event.currentTarget.value);\n        this.setState({\n            choose:true\n        })\n    }\n    nextStep=()=>{\n        this.setNextQuestion=this.setNextQuestion.bind(this)\n        if (this.state.questionId < quizQuestions.length) {\n\n            setTimeout(() => this.setNextQuestion(), 300);\n        }\n        else {\n            // already get to the last question\n            const questionId = this.state.questionId + 1;\n            this.setState({questionId:questionId})\n        }\n    }\n\n    setUserAnswer =(param)=> {\n        const len=this.state.final.length;\n        if(len=== this.state.counter) {\n            this.setState({\n                    final: [...this.state.final, param]\n                }\n            );\n        }\n        else\n        {\n            const array=[...this.state.final];\n            array.splice(this.state.counter,1);\n            console.log(\"test\",array);\n            this.setState({\n                    final: [...array,param]\n                }\n            );\n        }\n    }\n\n    setNextQuestion=()=> {\n        const counter = this.state.counter + 1;\n        const questionId = this.state.questionId + 1;\n\n        this.setState({\n            //设置问题和选项\n            counter: counter,\n            questionId: questionId,\n            question: quizQuestions[counter].question,\n            answerOptions: quizQuestions[counter].answers,\n            choose:false\n        });\n    }\n\n\n    renderQuiz() {\n        return (\n            <Quiz\n                // answer={this.state.answer}\n                answerOptions={this.state.answerOptions}\n                questionId={this.state.questionId}\n                question={this.state.question}\n                questionTotal={quizQuestions.length}\n                onAnswerSelected={this.handleAnswerSelected}\n                nextStep={this.nextStep}\n                choose={this.state.choose}\n            />\n        );\n    }\n\n    renderResult() {\n        return <Result/>;\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <div className=\"container\">\n                {this.state.questionId>quizQuestions.length ? this.renderResult() : this.renderQuiz()}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}